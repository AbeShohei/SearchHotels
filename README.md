# 東京メトロ沿線ホテル検索

## 概要

目的地（東京メトロ駅）を指定することで、その駅周辺だけでなく、沿線の周辺駅も含めた広範囲から最適なホテルを検索・比較できるWebアプリケーションです。
「目的地までの移動時間」と「宿泊費＋交通費」を総合的に評価し、単に安いだけでなく、時間対効果（コスパ）の優れた「穴場ホテル」を可視化・提案します。

## 課題解決

### 課題

* **高騰する宿泊費**: 都心部やイベント会場、人気観光地周辺のホテルは価格が高く、予算内で予約をとることが困難になっています。
* **探索の手間**: 「少し離れれば安い」とは分かっていても、土地勘のない場所で「移動が楽で」「終電に間に合い」「駅に近い」ホテルを探すには、地図アプリと乗換案内と予約サイトを行き来する必要があり、非常に手間がかかります。
* **見えにくいコスト**: 宿泊費が安くても、移動時間が長すぎたり、高い交通費がかかっては本末転倒です。

### 解決策

* **自動周辺検索**: 目的地の駅から、乗り換えなしでアクセスできる沿線駅を自動的にリストアップし、一括で空室検索を行います。
* **トータルコスト計算**: 「宿泊費」だけでなく、目的地までの「往復IC運賃」を加算した**実質総額**で比較します。
* **独自の「コスパ」指標**:
  * 目的地駅の最短ホテル（基準）と比較して、「何分所要時間が増える代わりに、いくら安くなるか」を独自にスコアリング。
  * 目的地に遠すぎず安いホテルといった**良コスパ**ホテルを直感的に発見できます。

## 使用データと実装の仕組み

### データソース

1. **公共交通オープンデータセンター (ODPT)**
    * 東京メトロの全駅・路線データ
    * 駅間の接続ネットワークと所要時間
    * ICカード運賃情報
    * 駅時刻表（始発・終電時間の判定に使用）
2. **楽天ブックス・トラベル系 API**
    * 楽天トラベル空室検索API（各駅の緯度経度半径1km以内のホテルを取得）
    * ホテル詳細情報、価格、レビュー評価点

### 実装・アルゴリズム

* **経路探索エンジン**: 独自のグラフネットワーク探索ロジックを実装。目的地までの所要時間、運賃をリアルタイムに算出します。
* **並列検索処理**: 複数の周辺駅（数十駅）に対して非同期でホテル検索を実行し、UIをブロックすることなくインクリメンタル（順次）に結果を表示するUXを実現しています。
* **コスパ算出ロジック**:
  * **基準**: 目的地への移動時間が最も短いホテルを「基準（時間ロス0）」とします。
  * **スコア計算**: `(基準ホテルの価格 - (対象ホテルの価格 + 往復運賃)) / (対象ホテルの所要時間 - 基準ホテルの所要時間)`
  * これにより、単なる「安さ」ではなく「時間の価値」を加味したランキングを提供しています。

## 技術スタック

* **Frontend**: React (TypeScript)
* **Styling**: Tailwind CSS
* **Build Tool**: Vite
* **Network**: Axios (REST API)
* **Environment**: Client-side Rendering (SPA)

## ローカルでの実行方法

1. リポジトリをクローン
2. 依存パッケージをインストール: `npm install`
3. 楽天APIキー、ODPT APIキーを設定（`.env.local`）
4. 開発サーバーを起動: `npm run dev`
